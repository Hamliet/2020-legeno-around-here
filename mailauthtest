package wooteco.team.ittabi.legenoaroundhere.service;


import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import wooteco.team.ittabi.legenoaroundhere.domain.user.Email;
import wooteco.team.ittabi.legenoaroundhere.domain.user.mailauth.MailAuth;
import wooteco.team.ittabi.legenoaroundhere.dto.MailAuthCheckRequest;
import wooteco.team.ittabi.legenoaroundhere.dto.MailAuthCreateRequest;
import wooteco.team.ittabi.legenoaroundhere.dto.UserCreateRequest;
import wooteco.team.ittabi.legenoaroundhere.repository.MailAuthRepository;

class MailAuthServiceTest extends ServiceTest {

    @Autowired
    UserService userService;

    @Autowired
    MailAuthService mailAuthService;

    @Autowired
    MailAuthRepository mailAuthRepository;

    @Test
    void authMailSendTest() throws Exception {
//        userService.createUser(new UserCreateRequest("0xc@naver.com", "rach", "password", 1L));
//
//        MailAuthCreateRequest mailAuthCreateRequest = new MailAuthCreateRequest("0xc@naver.com");
//        mailAuthService.sendAuthMail(mailAuthCreateRequest);
//
//        MailAuth a = mailAuthRepository.findByEmail(new Email("0xc@naver.com"))
//            .orElseThrow(() -> new IllegalArgumentException("dd"));
//
//        MailAuthCheckRequest mailAuthCheckRequest = new MailAuthCheckRequest("0xc@naver.com",
//            a.getAuthNumberByInt());
//        mailAuthService.checkAuth(mailAuthCheckRequest);
    }

    @Test
    void authMailCheckTest() {
    }
}